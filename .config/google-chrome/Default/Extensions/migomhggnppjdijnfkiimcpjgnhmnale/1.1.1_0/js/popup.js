!function(e){var s={};function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,s,t){r.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,s){if(1&s&&(e=r(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var n in e)r.d(t,n,function(s){return e[s]}.bind(null,n));return t},r.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(s,"a",s),s},r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},r.p="",r(r.s=126)}({0:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.browser="undefined"==typeof window?{}:r(7)},1:function(e,s,r){"use strict";r.d(s,"f",(function(){return t})),r.d(s,"d",(function(){return n})),r.d(s,"e",(function(){return o})),r.d(s,"h",(function(){return a})),r.d(s,"b",(function(){return i})),r.d(s,"a",(function(){return g})),r.d(s,"g",(function(){return l})),r.d(s,"c",(function(){return m}));const t="__CROSSPILOT_SETTINGS__",n="__CROSSPILOT_MESSAGE__",o="__API_SCHEMA__",a="pilot",i="__APP_DATA__",g="__APP_LOCAL_STORAGE_DATA",l="__UPDATE_STATUS__",m=["http://*/*","https://*/*"]},12:function(e,s,r){"use strict";var t=r(0),n=r(2),o=r(1),a=function(e,s,r,t){return new(r||(r=Promise))((function(n,o){function a(e){try{g(t.next(e))}catch(e){o(e)}}function i(e){try{g(t.throw(e))}catch(e){o(e)}}function g(e){var s;e.done?n(e.value):(s=e.value,s instanceof r?s:new r((function(e){e(s)}))).then(a,i)}g((t=t.apply(e,s||[])).next())}))};const i=["prototype","constructor"],g=["addRules","removeRules","getRules"],l=["loadTimes","csi","Event","app.getIsInstalled","app.getDetailsForFrame","app.runningState","app.installState","extension.getViews","extension.getExtensionTabs","runtime.getPackageDirectoryEntry","extension.setUpdateUrlData"],m=["extension.onConnect","runtime.onConnect","extension.onConnectExternal","runtime.onConnectExternal"];function c(){const e=function e(s,r){const t={};return Object.keys(s).forEach(n=>{if(i.includes(n))return;const o=`${r}${r?".":""}${n}`,a=s[n];if(null===a||"object"!=typeof a||Array.isArray(a))if("function"==typeof a){if(g.includes(n)||l.includes(o)||m.includes(r))return;t[n]="[Function]"}else t[n]=a;else{const s=e(a,o);0!==Object.keys(s).length&&(t[n]=s)}}),t}(chrome,""),s={};return s[o.e]={schema:e,expires:Date.now()+6048e5},t.browser.storage.local.set(s),n.a.info("Schema generated and saved in storage.",s),e}s.a=()=>a(void 0,void 0,void 0,(function*(){n.a.info("Getting Chrome API Schema.");const e=yield t.browser.storage.local.get(o.e);if(void 0===e[o.e])return n.a.warn("Chrome API Schema not found in storage."),c();const{schema:s,expires:r}=e[o.e];return r<Date.now()?(n.a.warn("Schema is expired."),c()):(n.a.info("Schema found in storage.",{data:e}),s)}))},126:function(e,s,r){"use strict";r.r(s);r(127);var t=r(0),n=r(12),o=r(14),a=r(4);(function(e,s,r,t){new(r||(r=Promise))((function(n,o){function a(e){try{g(t.next(e))}catch(e){o(e)}}function i(e){try{g(t.throw(e))}catch(e){o(e)}}function g(e){var s;e.done?n(e.value):(s=e.value,s instanceof r?s:new r((function(e){e(s)}))).then(a,i)}g((t=t.apply(e,s||[])).next())}))})(void 0,void 0,void 0,(function*(){const e=yield t.browser.runtime.getBackgroundPage(),{engine:s}=e;if(s.state!==a.a.RUNNING||null===s.extension)return;const r=s.extension.getPopup();if(null===r)return void t.browser.runtime.openOptionsPage();const i=yield Object(n.a)(),{html:g,css:l,js:m}=r,{manifest:c,details:u,locale:d,uiLanguage:A,appUrl:p,webAccessibleResources:f}=s.extension,x=yield Object(o.a)(s,"popup"),h={schema:i,manifest:c,details:u,uiLanguage:A,locale:d,appUrl:p,js:m,webAccessibleResources:f,css:l,html:g};x.message.on("data",()=>h)}))},127:function(e,s,r){},14:function(e,s,r){"use strict";var t=r(0),n=r(6);class o{constructor(e){this.engine=e}hijack(e,s){switch(e){case"runtime.setUninstallURL":return this.setUninstallUrl(s[0]),{hijacked:!0,result:void 0};default:return{hijacked:!1,result:void 0}}}setUninstallUrl(e){this.engine.setUninstallUrl(e)}}var a=r(1);class i{constructor(e){this.engine=e,this.GUARDED_STORAGE_KEYS=[a.f,a.e,a.b,a.a]}transform(e,s){switch(e){case"storage.local.set":case"storage.sync.set":return this.storageSet(s);case"storage.local.remove":case"storage.sync.remove":return this.storageRemove(s);case"storage.local.clear":case"storage.sync.clear":return this.storageClear(),s;case"tabs.create":return i.tabsCreate(s);case"tabs.executeScript":return this.tabsExecuteScript(s);default:return s}}storageSet(e){const s=e[0];return this.GUARDED_STORAGE_KEYS.forEach(e=>delete s[e]),e}storageRemove(e){const[s]=e;return Array.isArray(s)?e[0]=s.filter(e=>!this.GUARDED_STORAGE_KEYS.includes(e)):this.GUARDED_STORAGE_KEYS.includes(s)&&(e[0]=[]),e}storageClear(){t.browser.storage.local.get().then(e=>{const s={};this.GUARDED_STORAGE_KEYS.forEach(r=>{void 0!==e[r]&&(s[r]=e[r])}),Object.keys(s).length>0&&setTimeout(()=>{t.browser.storage.local.set(s)},500)})}static tabsCreate(e){const s=e[0];return s.url.startsWith("http")||(s.url=t.browser.runtime.getURL(`html/page.html?url=${encodeURIComponent(s.url)}`)),e}tabsExecuteScript(e){const s=e.length>1?e[1]:e[0];if(s.file&&this.engine.extension){const e=s.file;delete s.file,s.code=s.code||"",s.code+=this.engine.extension.getTextFile(e)}return e}}class g{constructor(e){this.message=e,this.INTERCEPT_EVENTS=["runtime.onInstalled","runtime.onStartup"],this.listeners={},this.interceptRuntimeOnMessage=(e=>{const s=new Map,r=new Map;return e.on("chrome:runtime-message-response",({responseId:e,args:s})=>{const t=r.get(e);t&&(t(...s),r.delete(e))}),(n,o)=>{if("addListener"===n){const n=(s,t)=>{const{messageRecipient:n}=s;if(void 0===n||n!==a.d)return new Promise(n=>{let a=`response-resolver-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;r.has(a);)a=`response-resolver-${Date.now()}-${Math.round(1e5*Math.random())}`;r.set(a,n);const i={id:o,responseId:a,message:s,sender:t};e.send("chrome:runtime-message",i)})};t.browser.runtime.onMessage.addListener(n),s.set(o,n)}else if("removeListener"===n){let e=null;s.forEach((s,r)=>{r===o&&(e=s)}),e&&(t.browser.runtime.onMessage.removeListener(e),s.delete(o))}}})(e),window.addEventListener("extension:event",e=>{const{event:s,data:r}=e.detail;switch(s){case"installed":{const e=this.listeners["runtime.onInstalled"];if(e){if(!r)return;const s={};s.reason=r.reason,"update"===s.reason&&(s.previousVersion=r.previousVersion),e.forEach(e=>{e(s)})}break}case"startup":{const e=this.listeners["runtime.onStartup"];e&&e.forEach(e=>{e()});break}}})}intercept(e,s,r){if("runtime.onMessage"===e||"extension.onMessage"===e)return this.interceptRuntimeOnMessage(s,r),!0;if(!this.INTERCEPT_EVENTS.includes(e))return!1;if("addListener"===s){if(void 0===this.listeners[e]&&(this.listeners[e]=new Map),!this.listeners[e].get(r)){const s=(...s)=>{this.message.send("chrome:listener-response",{event:e,id:r,args:s})};this.listeners[e].set(r,s)}}else if("removeListener"===s&&void 0!==this.listeners[e]){this.listeners[e].get(r)&&this.listeners[e].delete(r)}return!1}}s.a=(e,s,r=document.body)=>{const l=t.browser.runtime.getURL(`html/sandbox.html?page=${s}`),m=document.createElement("iframe");return m.className="sandbox",m.scrolling="no",m.frameBorder="0",new Promise((c,u)=>{m.onload=()=>{const{contentWindow:r}=m;if(null===r)return u();const l=new n.a(r,s);return((e,s)=>{const r={},t=new o(e),n=new i(e),a=new g(s);function l(e){let s=r[e];if(void 0!==s)return s;const t=e.split(".");let n=null;for(s=chrome;t.length;)n=s,s=n[t.shift()];return r[e]=s.bind(n),r[e]}s.on("chrome:call-method",({path:e,args:s,hasCallback:r})=>{const o=t.hijack(e,s);if(o.hijacked)return o.result;s=n.transform(e,s);const a=l(e);return r?new Promise(e=>{a(...s,(...s)=>{chrome.runtime.lastError,e(...s)})}):a(...s)});const m={};s.on("chrome:listener-action",({event:e,action:r,id:t})=>{if(a.intercept(e,r,t))return;const n=l(`${e}.${r}`);if("addListener"===r){if(void 0===m[e]&&(m[e]=new Map),!m[e].get(t)){const r=(...r)=>{const n={event:e,id:t,args:r};s.send("chrome:listener-response",n)};m[e].set(t,r),n(r)}}else if("removeListener"===r&&void 0!==m[e]){const s=m[e].get(t);s&&(m[e].delete(t),n(s))}})})(e,l),(e=>{const s=new Map;e.on("xhr:send",r=>{const{id:t,method:n,url:o,async:a,body:i,headers:g,responseType:l,timeout:m,mimeType:c}=r,u=new XMLHttpRequest;function d(s){const r={id:t,eventType:s.type,event:{timestamp:s.timeStamp,lengthComputable:s.lengthComputable,loaded:s.loaded,total:s.total,type:s.type},response:{readyState:u.readyState,status:u.status,statusText:u.statusText,response:u.response,responseURL:u.responseURL,responseType:u.responseType,responseText:u.responseText},responseHeaders:u.getAllResponseHeaders()};e.send("xhr:response",r)}s.set(t,u),l&&(u.responseType=l),null!==m&&(u.timeout=m),null!==c&&u.overrideMimeType(c),u.open(n,o,a),g.forEach(({header:e,value:s})=>u.setRequestHeader(e,s)),u.onabort=d,u.onerror=d,u.onload=d,u.onloadstart=d,u.onprogress=d,u.ontimeout=d,u.onreadystatechange=()=>{const s={id:t,eventType:"readystatechange",response:{readyState:u.readyState,status:u.status,statusText:u.statusText,response:u.response,responseURL:u.responseURL,responseType:u.responseType,responseText:u.responseText},responseHeaders:u.getAllResponseHeaders()};e.send("xhr:response",s)},u.onloadend=e=>{d(e),s.delete(t)},u.send(i)}),e.on("xhr:abort",({id:e})=>{const r=s.get(e);r&&(r.abort(),s.delete(e))})})(l),(e=>{let s={};function r(){const e={};e[a.a]=s,t.browser.storage.local.set(e)}t.browser.storage.local.get(a.a).then(e=>{void 0!==e[a.a]&&(s=e[a.a])}),e.on("local-storage:get",()=>s),e.on("local-storage:set",({keyName:e,keyValue:t})=>{s[e]=t,r()}),e.on("local-storage:remove",({keyName:e})=>{delete s[e],r()}),e.on("local-storage:clear",()=>{s={},r()})})(l),l.on("resize",({height:e,width:s})=>{e&&(m.style.height=`${e}px`),s&&(m.style.width=`${s}px`)}),setTimeout(()=>{m.classList.add("loaded")},500),c({iframe:m,message:l})},m.src=l,r.appendChild(m)})}},2:function(e,s,r){"use strict";var t=r(5),n=r.n(t);n.a.setLevel("ERROR",!1),s.a=n.a},4:function(e,s,r){"use strict";var t;r.d(s,"a",(function(){return t})),function(e){e.RUNNING="running",e.DISABLED="disabled",e.LOADED="loaded"}(t||(t={}))},5:function(e,s,r){var t,n;!function(o,a){"use strict";void 0===(n="function"==typeof(t=function(){var e=function(){},s="undefined"!=typeof window&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function t(e,s){var r=e[s];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(s){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function n(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),"undefined"!=typeof console&&("trace"===r&&s?n:void 0!==console[r]?t(console,r):void 0!==console.log?t(console,"log"):e)}function a(s,t){for(var n=0;n<r.length;n++){var o=r[n];this[o]=n<s?e:this.methodFactory(o,s,t)}this.log=this.debug}function i(e,s,r){return function(){"undefined"!=typeof console&&(a.call(this,s,r),this[e].apply(this,arguments))}}function g(e,s,r){return o(e)||i.apply(this,arguments)}function l(e,s,t){var n,o=this,i="loglevel";function l(){var e;if("undefined"!=typeof window){try{e=window.localStorage[i]}catch(e){}if(void 0===e)try{var s=window.document.cookie,r=s.indexOf(encodeURIComponent(i)+"=");-1!==r&&(e=/^([^;]+)/.exec(s.slice(r))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}e&&(i+=":"+e),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=t||g,o.getLevel=function(){return n},o.setLevel=function(s,t){if("string"==typeof s&&void 0!==o.levels[s.toUpperCase()]&&(s=o.levels[s.toUpperCase()]),!("number"==typeof s&&s>=0&&s<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+s;if(n=s,!1!==t&&function(e){var s=(r[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[i]=s)}catch(e){}try{window.document.cookie=encodeURIComponent(i)+"="+s+";"}catch(e){}}}(s),a.call(o,s,e),"undefined"==typeof console&&s<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){l()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var m=l();null==m&&(m=null==s?"WARN":s),o.setLevel(m,!1)}var m=new l,c={};m.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var s=c[e];return s||(s=c[e]=new l(e,m.getLevel(),m.methodFactory)),s};var u="undefined"!=typeof window?window.log:void 0;return m.noConflict=function(){return"undefined"!=typeof window&&window.log===m&&(window.log=u),m},m.getLoggers=function(){return c},m})?t.call(s,r,s,e):t)||(e.exports=n)}()},6:function(e,s,r){"use strict";r.d(s,"a",(function(){return n}));var t=r(2);class n{constructor(e,s){this.targetWindow=e,this.moduleName=s,this.listeners={},this.responseQueue=new Map,t.a.info(`${this.moduleName}: Registering window message listener.`),window.addEventListener("message",e=>{const{id:s,name:r,data:n}=e.data;if(null===s&&"__RESPONSE__"===r){const{responseFor:s}=e.data,r=this.responseQueue.get(s);return t.a.info(`${this.moduleName}: Response received for message id "${s}".`,{data:n}),void(void 0!==r&&(r(n),this.responseQueue.delete(s)))}if(void 0===this.listeners[r])t.a.warn(`${this.moduleName}: Message listener for name "${r}" does not exist.`);else{t.a.info(`${this.moduleName}: Message received with name "${r}".`,{data:n});const e=(0,this.listeners[r])(n);this.sendResponse(s,e)}})}on(e,s){this.listeners[e]=s}send(e,s=null){let r=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;this.responseQueue.has(r);)r=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;return t.a.info(`${this.moduleName}: Sending message with name "${e}" and id "${r}".`,{data:s}),this.targetWindow.postMessage({id:r,name:e,data:s},"*"),new Promise(e=>{this.responseQueue.set(r,e)})}sendResponse(e,s){Promise.resolve(s).then(s=>{this.targetWindow.postMessage({id:null,name:"__RESPONSE__",data:s,responseFor:e},"*")})}}},7:function(e,s,r){var t,n,o;n=[e],void 0===(o="function"==typeof(t=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const s="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",t=e=>{const t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,s){super(s),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(s,r)=>(...t)=>{e.runtime.lastError?s.reject(e.runtime.lastError):r.singleCallbackArg||t.length<=1&&!1!==r.singleCallbackArg?s.resolve(t[0]):s.resolve(t)},a=e=>1==e?"argument":"arguments",i=(e,s,r)=>new Proxy(s,{apply:(s,t,n)=>r.call(t,e,...n)});let g=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,s={},r={})=>{let t=Object.create(null),n={has:(s,r)=>r in e||r in t,get(n,m,c){if(m in t)return t[m];if(!(m in e))return;let u=e[m];if("function"==typeof u)if("function"==typeof s[m])u=i(e,e[m],s[m]);else if(g(r,m)){let s=((e,s)=>function(r,...t){if(t.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${a(s.minArgs)} for ${e}(), got ${t.length}`);if(t.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${a(s.maxArgs)} for ${e}(), got ${t.length}`);return new Promise((n,a)=>{if(s.fallbackToNoCallback)try{r[e](...t,o({resolve:n,reject:a},s))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",o),r[e](...t),s.fallbackToNoCallback=!1,s.noCallback=!0,n()}else s.noCallback?(r[e](...t),n()):r[e](...t,o({resolve:n,reject:a},s))})})(m,r[m]);u=i(e,e[m],s)}else u=u.bind(e);else{if("object"!=typeof u||null===u||!g(s,m)&&!g(r,m))return Object.defineProperty(t,m,{configurable:!0,enumerable:!0,get:()=>e[m],set(s){e[m]=s}}),u;u=l(u,s[m],r[m])}return t[m]=u,u},set:(s,r,n,o)=>(r in t?t[r]=n:e[r]=n,!0),defineProperty:(e,s,r)=>Reflect.defineProperty(t,s,r),deleteProperty:(e,s)=>Reflect.deleteProperty(t,s)},m=Object.create(e);return new Proxy(m,n)},m=e=>({addListener(s,r,...t){s.addListener(e.get(r),...t)},hasListener:(s,r)=>s.hasListener(e.get(r)),removeListener(s,r){s.removeListener(e.get(r))}});let c=!1;const u=new n(e=>"function"!=typeof e?e:function(s,t,n){let o,a,i=!1,g=new Promise(e=>{o=function(s){c||(console.warn(r,(new Error).stack),c=!0),i=!0,e(s)}});try{a=e(s,t,o)}catch(e){a=Promise.reject(e)}const l=!0!==a&&(m=a)&&"object"==typeof m&&"function"==typeof m.then;var m;if(!0!==a&&!l&&!i)return!1;const u=e=>{e.then(e=>{n(e)},e=>{let s;s=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:s})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return u(l?a:g),!0}),d=({reject:r,resolve:t},n)=>{e.runtime.lastError?e.runtime.lastError.message===s?t():r(e.runtime.lastError):n&&n.__mozWebExtensionPolyfillReject__?r(new Error(n.message)):t(n)},A=(e,s,r,...t)=>{if(t.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${a(s.minArgs)} for ${e}(), got ${t.length}`);if(t.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${a(s.maxArgs)} for ${e}(), got ${t.length}`);return new Promise((e,s)=>{const n=d.bind(null,{resolve:e,reject:s});t.push(n),r.sendMessage(...t)})},p={runtime:{onMessage:m(u),onMessageExternal:m(u),sendMessage:A.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:A.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},l(e,p,t)};e.exports=t(chrome)}else e.exports=browser})?t.apply(s,n):t)||(e.exports=o)}});